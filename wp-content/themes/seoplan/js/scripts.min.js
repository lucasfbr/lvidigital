var seoPlanShortCode=seoPlanShortCode||{},seoplanData=seoplanData||{};!function(a){"use strict";function b(){0!==seoPlanShortCode.length&&void 0!==seoPlanShortCode.TCourousel&&a.each(seoPlanShortCode.TCourousel,function(b,c){var d=!!c.autoplay&&4e3,e=c.navigation;"two_cols"===c.layout?a(document.getElementById(b)).find(".testimonials").owlCarousel({direction:"",items:c.number,slideSpeed:800,pagination:e,autoPlay:d,paginationSpeed:1e3,itemsCustom:[[0,1],[479,1],[639,1],[767,2],[991,2],[1199,2]]}):a(document.getElementById(b)).find(".testimonials").owlCarousel({direction:"",items:c.number,slideSpeed:800,pagination:e,autoPlay:d,paginationSpeed:1e3,itemsCustom:[[0,1],[479,1],[639,1],[767,1],[991,1],[1199,1]]})})}function c(){var b=u.height(),c=u.scrollTop(),d=c+b;a.each(w,function(){var b=a(this),e=b.outerHeight(),f=b.offset().top;f+e>=c&&f<=d?b.addClass("fadeInBottom"):b.removeClass("fadeInBottom")}),a.each(x,function(){var b=a(this),e=b.outerHeight(),f=b.offset().top;f+e>=c&&f<=d?b.addClass("fadeInTop"):b.removeClass("fadeInTop")}),a.each(y,function(){var b=a(this),e=b.outerHeight(),f=b.offset().top;f+e>=c&&f<=d?b.addClass("fadeInLeft"):b.removeClass("fadeInLeft")}),a.each(z,function(){var b=a(this),e=b.outerHeight(),f=b.offset().top;f+e>=c&&f<=d?b.addClass("fadeInRight"):b.removeClass("fadeInRight")}),a.each(v,function(){var b=a(this),e=b.outerHeight(),f=b.offset().top;f+e>=c&&f<=d?b.addClass("backgroundEffect"):b.removeClass("backgroundEffect")})}function d(a,b,c){var d=m(a.eventsWrapper),e=Number(a.timelineWrapper.css("width").replace("px",""));"next"==c?g(a,d-e+B,e-b):g(a,d+e-B)}function e(a,b,c){var d=a.eventsContent.find(".selected");if(("next"==c?d.next():d.prev()).length>0){var e=a.eventsWrapper.find(".selected"),g="next"==c?e.parent("li").next("li").children("a"):e.parent("li").prev("li").children("a");h(g,a.fillingLine,b),k(g,a.eventsContent),g.addClass("selected"),e.removeClass("selected"),l(g),f(c,g,a)}}function f(a,b,c){var d=window.getComputedStyle(b.get(0),null),e=Number(d.getPropertyValue("left").replace("px","")),f=Number(c.timelineWrapper.css("width").replace("px","")),h=Number(c.eventsWrapper.css("width").replace("px","")),i=m(c.eventsWrapper);("next"==a&&e>f-i||"prev"==a&&e<-i)&&g(c,f/2-e,f-h)}function g(a,b,c){var d=a.eventsWrapper.get(0);b=b>0?0:b,b=void 0!==c&&b<c?c:b,n(d,"translateX",b+"px"),0===b?a.timelineNavigation.find(".prev").addClass("inactive"):a.timelineNavigation.find(".prev").removeClass("inactive"),b==c?a.timelineNavigation.find(".next").addClass("inactive"):a.timelineNavigation.find(".next").removeClass("inactive")}function h(a,b,c){var d=window.getComputedStyle(a.get(0),null),e=d.getPropertyValue("left"),f=d.getPropertyValue("width");e=Number(e.replace("px",""))+Number(f.replace("px",""))/2;var g=e/c;n(b.get(0),"scaleX",g)}function i(a,b){for(var c=0;c<a.timelineDates.length;c++){var d=p(a.timelineDates[0],a.timelineDates[c]),e=Math.round(d/a.eventsMinLapse)+2;a.timelineEvents.eq(c).css("left",e*b+"px")}}function j(a,b){var c=p(a.timelineDates[0],a.timelineDates[a.timelineDates.length-1]),d=c/a.eventsMinLapse;d=Math.round(d)+4;var e=d*b;return a.eventsWrapper.css("width",e+"px"),h(a.eventsWrapper.find("a.selected"),a.fillingLine,e),f("next",a.eventsWrapper.find("a.selected"),a),e}function k(a,b){var c=a.data("date"),d=b.find(".selected"),e=b.find('[data-date="'+c+'"]'),f=e.height(),g="selected enter-left",h="leave-right";e.index()>d.index()&&(g="selected enter-right",h="leave-left"),e.attr("class",g),d.attr("class",h).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){d.removeClass("leave-right leave-left"),e.removeClass("enter-left enter-right")}),b.css("height",f+"px")}function l(a){a.parent("li").prevAll("li").children("a").addClass("older-event").end().end().nextAll("li").children("a").removeClass("older-event")}function m(a){var b=window.getComputedStyle(a.get(0),null),c=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform"),d=0;return c.indexOf("(")>=0&&(c=c.split("(")[1],c=c.split(")")[0],c=c.split(","),d=c[4]),Number(d)}function n(a,b,c){a.style["-webkit-transform"]=b+"("+c+")",a.style["-moz-transform"]=b+"("+c+")",a.style["-ms-transform"]=b+"("+c+")",a.style["-o-transform"]=b+"("+c+")",a.style.transform=b+"("+c+")"}function o(b){var c=[];return b.each(function(){var b=a(this),d=b.data("date").split("T"),e=d[0].split("/"),f=["0","0"];d.length>1?(e=d[0].split("/"),f=d[1].split(":")):d[0].indexOf(":")>=0&&(e=["2000","0","0"],f=d[0].split(":"));var g=new Date(e[2],e[1]-1,e[0],f[0],f[1]);c.push(g)}),c}function p(a,b){return Math.round(b-a)}function q(a){for(var b=[],c=1;c<a.length;c++){var d=p(a[c-1],a[c]);b.push(d)}return Math.min.apply(null,b)}function r(a){for(var b=a.offsetTop,c=a.offsetLeft,d=a.offsetWidth,e=a.offsetHeight;a.offsetParent;)a=a.offsetParent,b+=a.offsetTop,c+=a.offsetLeft;return b<window.pageYOffset+window.innerHeight&&c<window.pageXOffset+window.innerWidth&&b+e>window.pageYOffset&&c+d>window.pageXOffset}function s(){return window.getComputedStyle(document.querySelector(".cd-horizontal-timeline"),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}var t=a("body"),u=a(window);a(".post-format-images-carousel .slides").owlCarousel({singleItem:!0,pagination:!1,autoPlay:!0,stopOnHover:!0,navigation:!0,navigationText:['<i class="fa fa-long-arrow-left" aria-hidden="true"></i>','<i class="fa fa-long-arrow-right" aria-hidden="true"></i>']}),function(){0!==seoPlanShortCode.length&&void 0!==seoPlanShortCode.imagesCarousel&&a.each(seoPlanShortCode.imagesCarousel,function(c,d){var e=!!d.autoplay&&4e3,f=d.pagination;"single"==d.layout?a(document.getElementById(c)).find(".carousel-wrapper").owlCarousel({autoPlay:e,items:1,singleItem:!0,responsive:!0,stopOnHover:!0,pagination:f,paginationSpeed:300}):"list"==d.layout&&a(document.getElementById(c)).find(".carousel-wrapper").owlCarousel({direction:"",items:b.number,slideSpeed:800,pagination:f,autoPlay:e,paginationSpeed:1e3,itemsCustom:[[0,1],[479,2],[639,2],[767,3],[991,4],[1199,6]]})})}(),function(){0!==seoPlanShortCode.length&&void 0!==seoPlanShortCode.imagesGallery&&a.each(seoPlanShortCode.imagesGallery,function(b,c){var d=!!c.autoplay&&4e3,e=c.hideNavigation;"gallery"==c.layout&&a(document.getElementById(b)).find(".carousel-wrapper").owlCarousel({autoPlay:d,items:1,singleItem:!0,responsive:!0,stopOnHover:!0,pagination:!1,navigation:e,navigationText:['<i class="fa fa-chevron-left" aria-hidden="true"></i>','<i class="fa fa-chevron-right" aria-hidden="true"></i>']})})}(),function(){0!==seoPlanShortCode.length&&void 0!==seoPlanShortCode.Charts&&a.each(seoPlanShortCode.Charts,function(a,b){var c={type:"doughnut",data:{labels:b.labels,datasets:[{data:b.data,backgroundColor:b.backgroundColor,hoverBackgroundColor:b.hoverBackgroundColor}],borderWidth:[55,55,55,55,55]},options:{responsive:!0,legend:!1,animation:{animateScale:!0,animateRotate:!0}}},d=document.getElementById(a);if(null!==d){var e=d.getContext("2d");window.myDoughnut=new Chart(e,c)}})}(),function(){var b=a(".case-study-filter"),c=a(".seoplan-list-case-studies").find(".case-studies-list").isotope({});b.on("click",function(d){d.preventDefault();var e=a(this),f=e.data("filter");b.removeClass("active"),e.addClass("active"),c.isotope({filter:f})})}(),function(){0!==seoPlanShortCode.length&&void 0!==seoPlanShortCode.CSCourousel&&a.each(seoPlanShortCode.CSCourousel,function(b,c){var d=!!c.autoplay&&4e3,e=c.navigation,f=1;c.number>1&&(f=c.number-1),a(document.getElementById(b)).find(".case-study-items").owlCarousel({direction:"",items:c.number,slideSpeed:800,pagination:e,autoPlay:d,paginationSpeed:1e3,itemsDesktopSmall:[979,f],itemsDesktop:[1199,c.number]})})}(),b(),function(){0!==seoPlanShortCode.length&&void 0!==seoPlanShortCode.postsCarousel&&a.each(seoPlanShortCode.postsCarousel,function(b,c){var d=!!c.autoplay&&4e3,e=c.navigation,f=1;seoPlanShortCode.number>1&&(f=seoPlanShortCode.number-1),a(document.getElementById(b)).find(".blog-list").owlCarousel({items:c.number,slideSpeed:800,pagination:e,autoPlay:d,paginationSpeed:1e3,itemsDesktopSmall:[979,f],itemsDesktop:[1199,seoPlanShortCode.number]})})}(),function(){t.on("click",".label-icon i",function(a){a.preventDefault(),t.find(".seoplan-popup-search").fadeIn().addClass("open")}).on("click",".close-search-popup",function(a){a.preventDefault(),t.find(".seoplan-popup-search").fadeOut().removeClass("open")})}(),function(){t.on("click",".course-add-to-wishlist",function(b){b.preventDefault();var c=a(this),d={action:"add_case_study",cid:a(this).data("cid")};c.hasClass("added")||(c.addClass("adding"),jQuery.post(seoplanData.ajaxurl,d,function(a){"successful"===a.type&&c.removeClass("adding").addClass("added")},"json"))})}(),function(){var b=seoPlanShortCode.VideoBanner;a("#"+b).length&&a("#"+b).magnificPopup({type:"iframe"})}(),function(){0!==seoPlanShortCode.length&&void 0!==seoPlanShortCode.countResult&&a.each(seoPlanShortCode.countResult,function(b){a("#"+b).counterUp({time:2e3})})}(),function(){t.on("click",".toggle-nav",function(a){a.preventDefault(),t.hasClass("mobile-nav-shown")||t.addClass("mobile-nav-shown")}).on("click","#close-menu, .side-menu-background",function(a){a.preventDefault(),t.hasClass("mobile-nav-shown")&&t.removeClass("mobile-nav-shown")}),a("#menu-mobile-menu .menu-item-has-children > a").on("click",function(b){b.preventDefault(),b.stopPropagation();var c=a(this);c.parent().hasClass("expanded")?c.siblings(".sub-menu").stop(!0,!0).slideUp(500,function(){c.parent().removeClass("expanded")}):c.siblings(".sub-menu").stop(!0,!0).slideDown(500,function(){c.parent().addClass("expanded")})})}(),function(){t.on("click",".footer-widgets .widget-title",function(b){if(!(u.width()>767)){b.preventDefault();var c=a(this),d=c.parent(".widget");d.hasClass("open")?c.siblings().stop(!0,!0).slideUp(function(){d.removeClass("open")}):c.siblings().stop(!0,!0).slideDown(function(){d.addClass("open")})}})}(),function(){if(t.hasClass("sticky-header")){var b=0;u.on("scroll",function(){if(u.width()>640){var c=a(this).scrollTop();c>b?t.hasClass("top-panel-slide-down")||t.find(".top-panel",".site-header").slideUp(function(){t.addClass("top-panel-slide-down")}):t.hasClass("top-panel-slide-down")&&t.find(".top-panel",".site-header").slideDown(function(){t.removeClass("top-panel-slide-down")}),b=c}}),u.on("resize",function(){if(u.width()<768){var b=t.find(".site-header"),c=b.height();a("#seoplan-header-minimized").height(c)}else a("#seoplan-header-minimized").removeAttr("style")}).trigger("resize")}}(),function(){t.find("h4",".seoplan-faq").on("click",function(b){b.preventDefault();var c=a(this).parent(),d=a(this).siblings();c.hasClass("active")?(c.removeClass("active"),d.stop(!0,!0).slideUp()):d.stop(!0,!0).slideDown(function(){c.addClass("active")})})}();var v=t.find(".animation-bg"),w=t.find(".animation-bottom"),x=t.find(".animation-top"),y=t.find(".animation-left"),z=t.find(".animation-right");u.on("scroll resize",c),u.trigger("scroll");var A=a(".seoplan-timeline-stories"),B=90;A.length>0&&function(b){b.each(function(){var b=a(this),c={};c.timelineWrapper=b.find(".events-wrapper"),c.eventsWrapper=c.timelineWrapper.children(".events"),c.fillingLine=c.eventsWrapper.children(".filling-line"),c.timelineEvents=c.eventsWrapper.find("a"),c.timelineDates=o(c.timelineEvents),c.eventsMinLapse=q(c.timelineDates),c.timelineNavigation=b.find(".cd-timeline-navigation"),c.eventsContent=b.children(".events-content"),i(c,B);var f=j(c,B);b.addClass("loaded"),c.timelineNavigation.on("click",".next",function(a){a.preventDefault(),d(c,f,"next")}),c.timelineNavigation.on("click",".prev",function(a){a.preventDefault(),d(c,f,"prev")}),c.eventsWrapper.on("click","a",function(b){b.preventDefault(),c.timelineEvents.removeClass("selected"),a(this).addClass("selected"),l(a(this)),h(a(this),c.fillingLine,f),k(a(this),c.eventsContent)}),c.eventsContent.on("swipeleft",function(){"mobile"==s()&&e(c,f,"next")}),c.eventsContent.on("swiperight",function(){"mobile"==s()&&e(c,f,"prev")}),a(document).keyup(function(a){"37"==a.which&&r(b.get(0))?e(c,f,"prev"):"39"==a.which&&r(b.get(0))&&e(c,f,"next")})})}(A)}(jQuery);